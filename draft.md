#Draft

## 1. Авторизация пользователя

- Подключение через TMDb (OAuth или одобрение токена)
- Получение и сохранение оценок пользователя
- Возможность обновить импорт оценок


## 2. Хранение данных

- Таблица пользователей
- Таблица фильмов (id, название, год, постер, метаданные)
- Таблица оценок (user_id, movie_id, rating)
- Кэширование постеров (Telegram-канал как CDN)
- Автодозагрузка отсутствующих постеров и метаданных


## 3. Витрина пользователя

- Показ карточки фильма (постер + базовая информация)
- Кнопки для оценки (1–5 или лайк/дизлайк)
- Мгновенное сохранение оценки
- Обновление витрины после оценки
- Фильтрация уже просмотренных фильмов


## 4. Построение вкусового профиля

- Список оценённых фильмов
- Разделение на любимые / нейтральные / ненавистные
- Нормализация оценок (для расчёта сходства)


## 5. Поиск похожих пользователей

- Вычисление сходства (косинус или процент совпадений)
- Учёт только общих фильмов
- Минимальный порог пересечения
- Формирование топ-K соседей
- Пересчёт при обновлении оценок


## 6. Объяснимость сходства

- Список общих любимых фильмов
- Список общих ненавистных
- Список разногласий
- Процент сходства


## 7. Генерация рекомендаций

- Фильмы, которые любят соседи
- Исключение уже оценённых фильмов
- Сортировка по популярности среди соседей
- Порог минимального количества рекомендаций
- Вывод рекомендаций в витрину


## 8. Онбординг без TMDb

- Стартовая подборка популярных фильмов
- Быстрый сбор первых 20–50 оценок
- Переход к расчёту соседей


## 9. Социальный слой

- Просмотр списка похожих пользователей
- Просмотр их любимых фильмов
- Возможность подписаться / следить
- Публичная витрина пользователя


## 10. Админ-логика

- Пересчёт сходства по расписанию
- Очистка дубликатов
- Контроль нагрузки
- Логирование ошибок


## 11. Оптимизация и масштабирование

- Индексы в базе
- Ограничение количества расчётов
- Кэширование результатов сходства
- Lazy-загрузка фильмов

---
[Home](readme.md)